{
    "sourceFile": ".idea/README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1768819496175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1768819526477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,4 +24,48 @@\n ---\r\n \r\n ## üìÅ Project Structure\r\n \r\n+com.example.ecommerce\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ controller\r\n+‚îÇ   ‚îú‚îÄ‚îÄ ProductController.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ CartController.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ OrderController.java\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentController.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ service\r\n+‚îÇ   ‚îú‚îÄ‚îÄ ProductService.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ CartService.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ OrderService.java\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentService.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ repository\r\n+‚îÇ   ‚îú‚îÄ‚îÄ ProductRepository.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ CartRepository.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ OrderRepository.java\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentRepository.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ model\r\n+‚îÇ   ‚îú‚îÄ‚îÄ User.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ Product.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ CartItem.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ Order.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ OrderItem.java\r\n+‚îÇ   ‚îî‚îÄ‚îÄ Payment.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ dto\r\n+‚îÇ   ‚îú‚îÄ‚îÄ AddToCartRequest.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ CreateOrderRequest.java\r\n+‚îÇ   ‚îú‚îÄ‚îÄ PaymentRequest.java\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentWebhookRequest.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ webhook\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentWebhookController.java\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ client\r\n+‚îÇ   ‚îî‚îÄ‚îÄ PaymentServiceClient.java   (if mock service used)\r\n+‚îÇ\r\n+‚îú‚îÄ‚îÄ config\r\n+‚îÇ   ‚îî‚îÄ‚îÄ RestTemplateConfig.java\r\n+‚îÇ\r\n+‚îî‚îÄ‚îÄ EcommerceApplication.java\r\n"
                },
                {
                    "date": 1768819536546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,4 +68,39 @@\n ‚îú‚îÄ‚îÄ config\r\n ‚îÇ   ‚îî‚îÄ‚îÄ RestTemplateConfig.java\r\n ‚îÇ\r\n ‚îî‚îÄ‚îÄ EcommerceApplication.java\r\n+\r\n+\r\n+\r\n+---\r\n+\r\n+## üß† Database Schema (ER Summary)\r\n+\r\n+- **USER** ‚Üí CART_ITEM (1:N)\r\n+- **USER** ‚Üí ORDER (1:N)\r\n+- **ORDER** ‚Üí ORDER_ITEM (1:N)\r\n+- **ORDER** ‚Üí PAYMENT (1:1)\r\n+- **PRODUCT** used in CART_ITEM and ORDER_ITEM\r\n+\r\n+Mongo collections:\r\n+- `products`\r\n+- `cart_items`\r\n+- `orders`\r\n+- `order_items`\r\n+- `payments`\r\n+- `users` (optional)\r\n+\r\n+---\r\n+\r\n+## ‚öôÔ∏è Prerequisites\r\n+- IntelliJ IDEA\r\n+- Java 21\r\n+- Maven\r\n+- MongoDB (local or cloud)\r\n+\r\n+---\r\n+\r\n+# ‚úÖ MongoDB Setup\r\n+\r\n+## Option 1: Local MongoDB (Recommended)\r\n+If you already have MongoDB installed locally, ensure it is running on:\r\n"
                },
                {
                    "date": 1768819550078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,5 +102,5 @@\n \r\n # ‚úÖ MongoDB Setup\r\n \r\n ## Option 1: Local MongoDB (Recommended)\r\n-If you already have MongoDB installed locally, ensure it is running on:\r\n+If you already have MongoDB installed locally, ensure it is running on: localhost:27017\r\n"
                },
                {
                    "date": 1768819562004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,4 +103,9 @@\n # ‚úÖ MongoDB Setup\r\n \r\n ## Option 1: Local MongoDB (Recommended)\r\n If you already have MongoDB installed locally, ensure it is running on: localhost:27017\r\n+\r\n+\r\n+### Confirm connection\r\n+Open IntelliJ run logs, you should see:\r\n+\r\n"
                },
                {
                    "date": 1768819575502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,6 +106,6 @@\n If you already have MongoDB installed locally, ensure it is running on: localhost:27017\r\n \r\n \r\n ### Confirm connection\r\n-Open IntelliJ run logs, you should see:\r\n+Open IntelliJ run logs, you should see:   successfully connected to server localhost:27017\r\n \r\n"
                },
                {
                    "date": 1768819587115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,6 +106,23 @@\n If you already have MongoDB installed locally, ensure it is running on: localhost:27017\r\n \r\n \r\n ### Confirm connection\r\n-Open IntelliJ run logs, you should see:   successfully connected to server localhost:27017\r\n+Open IntelliJ run logs, you should see: successfully connected to server localhost:27017\r\n \r\n+\r\n+---\r\n+\r\n+## Option 2: MongoDB Atlas (Cloud)\r\n+1. Create cluster on MongoDB Atlas (Free M0)\r\n+2. Allow your IP in **Network Access**\r\n+3. Create DB user/password\r\n+4. Copy connection string and update `application.yml`\r\n+\r\n+Example:\r\n+```yaml\r\n+spring:\r\n+  data:\r\n+    mongodb:\r\n+      uri: mongodb+srv://username:password@cluster0.mongodb.net/ecommerce_db?retryWrites=true&w=majority\r\n+\r\n+\r\n"
                },
                {
                    "date": 1768819650419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,4 +125,245 @@\n     mongodb:\r\n       uri: mongodb+srv://username:password@cluster0.mongodb.net/ecommerce_db?retryWrites=true&w=majority\r\n \r\n \r\n+unning the Project (IntelliJ)\r\n+\r\n+Open project in IntelliJ\r\n+\r\n+Ensure Lombok plugin is installed + annotation processing enabled\r\n+\r\n+Run:\r\n+EcommerceApplication.java\r\n+\r\n+Server runs at:\r\n+\r\n+http://localhost:8080\r\n+\r\n+üîÅ Complete Order Flow (Business Logic)\r\n+Step-by-step flow:\r\n+\r\n+Create products\r\n+\r\n+Add products to cart\r\n+\r\n+View cart\r\n+\r\n+Create order from cart\r\n+\r\n+validate stock\r\n+\r\n+calculate total\r\n+\r\n+create order + order items\r\n+\r\n+reduce product stock\r\n+\r\n+clear cart\r\n+\r\n+Create payment\r\n+\r\n+payment created as PENDING\r\n+\r\n+mock client waits 3 seconds then calls webhook\r\n+\r\n+Webhook updates:\r\n+\r\n+payment ‚Üí SUCCESS or FAILED\r\n+\r\n+order ‚Üí PAID or FAILED\r\n+\r\n+Get order to verify status\r\n+\r\n+üìå API Documentation\r\n+‚úÖ Product APIs\r\n+1) Create Product\r\n+\r\n+POST /api/products\r\n+\r\n+Request:\r\n+\r\n+{\r\n+  \"name\": \"Laptop\",\r\n+  \"description\": \"Gaming Laptop\",\r\n+  \"price\": 50000.0,\r\n+  \"stock\": 10\r\n+}\r\n+\r\n+\r\n+Response:\r\n+\r\n+{\r\n+  \"id\": \"prod123\",\r\n+  \"name\": \"Laptop\",\r\n+  \"description\": \"Gaming Laptop\",\r\n+  \"price\": 50000.0,\r\n+  \"stock\": 10\r\n+}\r\n+\r\n+2) Get All Products\r\n+\r\n+GET /api/products\r\n+\r\n+‚≠ê Bonus: Search Products\r\n+\r\n+GET /api/products/search?q=laptop\r\n+\r\n+Returns products where name contains query string (case-insensitive).\r\n+\r\n+‚úÖ Cart APIs\r\n+1) Add to Cart\r\n+\r\n+POST /api/cart/add\r\n+\r\n+Request:\r\n+\r\n+{\r\n+  \"userId\": \"user123\",\r\n+  \"productId\": \"prod123\",\r\n+  \"quantity\": 2\r\n+}\r\n+\r\n+2) Get Cart of a User\r\n+\r\n+GET /api/cart/{userId}\r\n+\r\n+3) Clear Cart\r\n+\r\n+DELETE /api/cart/{userId}/clear\r\n+\r\n+Response:\r\n+\r\n+{\r\n+  \"message\": \"Cart cleared successfully\"\r\n+}\r\n+\r\n+‚úÖ Order APIs\r\n+1) Create Order from Cart\r\n+\r\n+POST /api/orders\r\n+\r\n+Request:\r\n+\r\n+{\r\n+  \"userId\": \"user123\"\r\n+}\r\n+\r\n+\r\n+Response includes:\r\n+\r\n+orderId\r\n+\r\n+totalAmount\r\n+\r\n+status CREATED\r\n+\r\n+items\r\n+\r\n+2) Get Order Details\r\n+\r\n+GET /api/orders/{orderId}\r\n+\r\n+Shows:\r\n+\r\n+status (CREATED, PAID, etc.)\r\n+\r\n+payment details\r\n+\r\n+order items\r\n+\r\n+‚≠ê Bonus: Order History\r\n+\r\n+GET /api/orders/user/{userId}\r\n+Returns all orders for the user.\r\n+\r\n+‚≠ê Bonus: Cancel Order (Restore Stock)\r\n+\r\n+POST /api/orders/{orderId}/cancel\r\n+\r\n+Rules:\r\n+\r\n+Only cancels if order status is CREATED\r\n+\r\n+Restores product stock\r\n+\r\n+Updates order status to CANCELLED\r\n+\r\n+‚úÖ Payment APIs (Mock Integration)\r\n+1) Create Payment\r\n+\r\n+POST /api/payments/create\r\n+\r\n+Request:\r\n+\r\n+{\r\n+  \"orderId\": \"order123\",\r\n+  \"amount\": 100000.0\r\n+}\r\n+\r\n+\r\n+Response:\r\n+\r\n+{\r\n+  \"id\": \"...\",\r\n+  \"orderId\": \"order123\",\r\n+  \"amount\": 100000.0,\r\n+  \"status\": \"PENDING\",\r\n+  \"paymentId\": \"pay_mock_xxx\"\r\n+}\r\n+\r\n+2) Webhook Endpoint\r\n+\r\n+POST /api/webhooks/payment\r\n+\r\n+Mock payment service calls this automatically after 3 seconds.\r\n+\r\n+Manual test example:\r\n+\r\n+{\r\n+  \"orderId\": \"order123\",\r\n+  \"status\": \"SUCCESS\",\r\n+  \"paymentId\": \"manual_1\"\r\n+}\r\n+\r\n+üß™ Postman Testing Guide (Recommended Order)\r\n+Step 1: Create products\r\n+\r\n+POST /api/products (3 times)\r\n+\r\n+Step 2: Add items to cart\r\n+\r\n+POST /api/cart/add\r\n+\r\n+Step 3: View cart\r\n+\r\n+GET /api/cart/user123\r\n+\r\n+Step 4: Create order\r\n+\r\n+POST /api/orders\r\n+\r\n+Copy orderId\r\n+\r\n+Step 5: Create payment\r\n+\r\n+POST /api/payments/create\r\n+\r\n+Wait 3 seconds\r\n+\r\n+Step 6: Get order status updated\r\n+\r\n+GET /api/orders/{orderId}\r\n+\r\n+Status should be PAID\r\n+\r\n+‚úÖ Sample Data\r\n+\r\n+Products:\r\n+\r\n+[\r\n+  { \"name\": \"Laptop\", \"description\": \"Gaming Laptop\", \"price\": 50000.0, \"stock\": 10 },\r\n+  { \"name\": \"Mouse\", \"description\": \"Wireless Mouse\", \"price\": 1000.0, \"stock\": 50 },\r\n+  { \"name\": \"Keyboard\", \"description\": \"Mechanical Keyboard\", \"price\": 3000.0, \"stock\": 30 }\r\n+]\r\n+\r\n+\r\n"
                },
                {
                    "date": 1768819657492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,245 +125,6 @@\n     mongodb:\r\n       uri: mongodb+srv://username:password@cluster0.mongodb.net/ecommerce_db?retryWrites=true&w=majority\r\n \r\n \r\n-unning the Project (IntelliJ)\r\n \r\n-Open project in IntelliJ\r\n \r\n-Ensure Lombok plugin is installed + annotation processing enabled\r\n-\r\n-Run:\r\n-EcommerceApplication.java\r\n-\r\n-Server runs at:\r\n-\r\n-http://localhost:8080\r\n-\r\n-üîÅ Complete Order Flow (Business Logic)\r\n-Step-by-step flow:\r\n-\r\n-Create products\r\n-\r\n-Add products to cart\r\n-\r\n-View cart\r\n-\r\n-Create order from cart\r\n-\r\n-validate stock\r\n-\r\n-calculate total\r\n-\r\n-create order + order items\r\n-\r\n-reduce product stock\r\n-\r\n-clear cart\r\n-\r\n-Create payment\r\n-\r\n-payment created as PENDING\r\n-\r\n-mock client waits 3 seconds then calls webhook\r\n-\r\n-Webhook updates:\r\n-\r\n-payment ‚Üí SUCCESS or FAILED\r\n-\r\n-order ‚Üí PAID or FAILED\r\n-\r\n-Get order to verify status\r\n-\r\n-üìå API Documentation\r\n-‚úÖ Product APIs\r\n-1) Create Product\r\n-\r\n-POST /api/products\r\n-\r\n-Request:\r\n-\r\n-{\r\n-  \"name\": \"Laptop\",\r\n-  \"description\": \"Gaming Laptop\",\r\n-  \"price\": 50000.0,\r\n-  \"stock\": 10\r\n-}\r\n-\r\n-\r\n-Response:\r\n-\r\n-{\r\n-  \"id\": \"prod123\",\r\n-  \"name\": \"Laptop\",\r\n-  \"description\": \"Gaming Laptop\",\r\n-  \"price\": 50000.0,\r\n-  \"stock\": 10\r\n-}\r\n-\r\n-2) Get All Products\r\n-\r\n-GET /api/products\r\n-\r\n-‚≠ê Bonus: Search Products\r\n-\r\n-GET /api/products/search?q=laptop\r\n-\r\n-Returns products where name contains query string (case-insensitive).\r\n-\r\n-‚úÖ Cart APIs\r\n-1) Add to Cart\r\n-\r\n-POST /api/cart/add\r\n-\r\n-Request:\r\n-\r\n-{\r\n-  \"userId\": \"user123\",\r\n-  \"productId\": \"prod123\",\r\n-  \"quantity\": 2\r\n-}\r\n-\r\n-2) Get Cart of a User\r\n-\r\n-GET /api/cart/{userId}\r\n-\r\n-3) Clear Cart\r\n-\r\n-DELETE /api/cart/{userId}/clear\r\n-\r\n-Response:\r\n-\r\n-{\r\n-  \"message\": \"Cart cleared successfully\"\r\n-}\r\n-\r\n-‚úÖ Order APIs\r\n-1) Create Order from Cart\r\n-\r\n-POST /api/orders\r\n-\r\n-Request:\r\n-\r\n-{\r\n-  \"userId\": \"user123\"\r\n-}\r\n-\r\n-\r\n-Response includes:\r\n-\r\n-orderId\r\n-\r\n-totalAmount\r\n-\r\n-status CREATED\r\n-\r\n-items\r\n-\r\n-2) Get Order Details\r\n-\r\n-GET /api/orders/{orderId}\r\n-\r\n-Shows:\r\n-\r\n-status (CREATED, PAID, etc.)\r\n-\r\n-payment details\r\n-\r\n-order items\r\n-\r\n-‚≠ê Bonus: Order History\r\n-\r\n-GET /api/orders/user/{userId}\r\n-Returns all orders for the user.\r\n-\r\n-‚≠ê Bonus: Cancel Order (Restore Stock)\r\n-\r\n-POST /api/orders/{orderId}/cancel\r\n-\r\n-Rules:\r\n-\r\n-Only cancels if order status is CREATED\r\n-\r\n-Restores product stock\r\n-\r\n-Updates order status to CANCELLED\r\n-\r\n-‚úÖ Payment APIs (Mock Integration)\r\n-1) Create Payment\r\n-\r\n-POST /api/payments/create\r\n-\r\n-Request:\r\n-\r\n-{\r\n-  \"orderId\": \"order123\",\r\n-  \"amount\": 100000.0\r\n-}\r\n-\r\n-\r\n-Response:\r\n-\r\n-{\r\n-  \"id\": \"...\",\r\n-  \"orderId\": \"order123\",\r\n-  \"amount\": 100000.0,\r\n-  \"status\": \"PENDING\",\r\n-  \"paymentId\": \"pay_mock_xxx\"\r\n-}\r\n-\r\n-2) Webhook Endpoint\r\n-\r\n-POST /api/webhooks/payment\r\n-\r\n-Mock payment service calls this automatically after 3 seconds.\r\n-\r\n-Manual test example:\r\n-\r\n-{\r\n-  \"orderId\": \"order123\",\r\n-  \"status\": \"SUCCESS\",\r\n-  \"paymentId\": \"manual_1\"\r\n-}\r\n-\r\n-üß™ Postman Testing Guide (Recommended Order)\r\n-Step 1: Create products\r\n-\r\n-POST /api/products (3 times)\r\n-\r\n-Step 2: Add items to cart\r\n-\r\n-POST /api/cart/add\r\n-\r\n-Step 3: View cart\r\n-\r\n-GET /api/cart/user123\r\n-\r\n-Step 4: Create order\r\n-\r\n-POST /api/orders\r\n-\r\n-Copy orderId\r\n-\r\n-Step 5: Create payment\r\n-\r\n-POST /api/payments/create\r\n-\r\n-Wait 3 seconds\r\n-\r\n-Step 6: Get order status updated\r\n-\r\n-GET /api/orders/{orderId}\r\n-\r\n-Status should be PAID\r\n-\r\n-‚úÖ Sample Data\r\n-\r\n-Products:\r\n-\r\n-[\r\n-  { \"name\": \"Laptop\", \"description\": \"Gaming Laptop\", \"price\": 50000.0, \"stock\": 10 },\r\n-  { \"name\": \"Mouse\", \"description\": \"Wireless Mouse\", \"price\": 1000.0, \"stock\": 50 },\r\n-  { \"name\": \"Keyboard\", \"description\": \"Mechanical Keyboard\", \"price\": 3000.0, \"stock\": 30 }\r\n-]\r\n-\r\n-\r\n"
                },
                {
                    "date": 1768819817060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,6 +125,264 @@\n     mongodb:\r\n       uri: mongodb+srv://username:password@cluster0.mongodb.net/ecommerce_db?retryWrites=true&w=majority\r\n \r\n \r\n+# E-Commerce Application\r\n \r\n+## Running the Project (IntelliJ)\r\n \r\n+### Open project in IntelliJ\r\n+\r\n+Ensure Lombok plugin is installed + annotation processing enabled\r\n+\r\n+### Run:\r\n+`EcommerceApplication.java`\r\n+\r\n+Server runs at:\r\n+\r\n+```\r\n+http://localhost:8080\r\n+```\r\n+\r\n+## üîÅ Complete Order Flow (Business Logic)\r\n+Step-by-step flow:\r\n+\r\n+1. Create products\r\n+2. Add products to cart\r\n+3. View cart\r\n+4. Create order from cart\r\n+   - validate stock\r\n+   - calculate total\r\n+   - create order + order items\r\n+   - reduce product stock\r\n+   - clear cart\r\n+5. Create payment\r\n+   - payment created as PENDING\r\n+   - mock client waits 3 seconds then calls webhook\r\n+6. Webhook updates:\r\n+   - payment ‚Üí SUCCESS or FAILED\r\n+   - order ‚Üí PAID or FAILED\r\n+7. Get order to verify status\r\n+\r\n+## üìå API Documentation\r\n+\r\n+### ‚úÖ Product APIs\r\n+\r\n+#### 1) Create Product\r\n+\r\n+```\r\n+POST /api/products\r\n+```\r\n+\r\n+**Request:**\r\n+\r\n+```json\r\n+{\r\n+  \"name\": \"Laptop\",\r\n+  \"description\": \"Gaming Laptop\",\r\n+  \"price\": 50000.0,\r\n+  \"stock\": 10\r\n+}\r\n+```\r\n+\r\n+**Response:**\r\n+\r\n+```json\r\n+{\r\n+  \"id\": \"prod123\",\r\n+  \"name\": \"Laptop\",\r\n+  \"description\": \"Gaming Laptop\",\r\n+  \"price\": 50000.0,\r\n+  \"stock\": 10\r\n+}\r\n+```\r\n+\r\n+#### 2) Get All Products\r\n+\r\n+```\r\n+GET /api/products\r\n+```\r\n+\r\n+#### ‚≠ê Bonus: Search Products\r\n+\r\n+```\r\n+GET /api/products/search?q=laptop\r\n+```\r\n+\r\n+Returns products where name contains query string (case-insensitive).\r\n+\r\n+### ‚úÖ Cart APIs\r\n+\r\n+#### 1) Add to Cart\r\n+\r\n+```\r\n+POST /api/cart/add\r\n+```\r\n+\r\n+**Request:**\r\n+\r\n+```json\r\n+{\r\n+  \"userId\": \"user123\",\r\n+  \"productId\": \"prod123\",\r\n+  \"quantity\": 2\r\n+}\r\n+```\r\n+\r\n+#### 2) Get Cart of a User\r\n+\r\n+```\r\n+GET /api/cart/{userId}\r\n+```\r\n+\r\n+#### 3) Clear Cart\r\n+\r\n+```\r\n+DELETE /api/cart/{userId}/clear\r\n+```\r\n+\r\n+**Response:**\r\n+\r\n+```json\r\n+{\r\n+  \"message\": \"Cart cleared successfully\"\r\n+}\r\n+```\r\n+\r\n+### ‚úÖ Order APIs\r\n+\r\n+#### 1) Create Order from Cart\r\n+\r\n+```\r\n+POST /api/orders\r\n+```\r\n+\r\n+**Request:**\r\n+\r\n+```json\r\n+{\r\n+  \"userId\": \"user123\"\r\n+}\r\n+```\r\n+\r\n+**Response includes:**\r\n+\r\n+- orderId\r\n+- totalAmount\r\n+- status CREATED\r\n+- items\r\n+\r\n+#### 2) Get Order Details\r\n+\r\n+```\r\n+GET /api/orders/{orderId}\r\n+```\r\n+\r\n+Shows:\r\n+\r\n+- status (CREATED, PAID, etc.)\r\n+- payment details\r\n+- order items\r\n+\r\n+#### ‚≠ê Bonus: Order History\r\n+\r\n+```\r\n+GET /api/orders/user/{userId}\r\n+```\r\n+\r\n+Returns all orders for the user.\r\n+\r\n+#### ‚≠ê Bonus: Cancel Order (Restore Stock)\r\n+\r\n+```\r\n+POST /api/orders/{orderId}/cancel\r\n+```\r\n+\r\n+**Rules:**\r\n+\r\n+- Only cancels if order status is CREATED\r\n+- Restores product stock\r\n+- Updates order status to CANCELLED\r\n+\r\n+### ‚úÖ Payment APIs (Mock Integration)\r\n+\r\n+#### 1) Create Payment\r\n+\r\n+```\r\n+POST /api/payments/create\r\n+```\r\n+\r\n+**Request:**\r\n+\r\n+```json\r\n+{\r\n+  \"orderId\": \"order123\",\r\n+  \"amount\": 100000.0\r\n+}\r\n+```\r\n+\r\n+**Response:**\r\n+\r\n+```json\r\n+{\r\n+  \"id\": \"...\",\r\n+  \"orderId\": \"order123\",\r\n+  \"amount\": 100000.0,\r\n+  \"status\": \"PENDING\",\r\n+  \"paymentId\": \"pay_mock_xxx\"\r\n+}\r\n+```\r\n+\r\n+#### 2) Webhook Endpoint\r\n+\r\n+```\r\n+POST /api/webhooks/payment\r\n+```\r\n+\r\n+Mock payment service calls this automatically after 3 seconds.\r\n+\r\n+**Manual test example:**\r\n+\r\n+```json\r\n+{\r\n+  \"orderId\": \"order123\",\r\n+  \"status\": \"SUCCESS\",\r\n+  \"paymentId\": \"manual_1\"\r\n+}\r\n+```\r\n+\r\n+## üß™ Postman Testing Guide (Recommended Order)\r\n+\r\n+**Step 1:** Create products\r\n+- `POST /api/products` (3 times)\r\n+\r\n+**Step 2:** Add items to cart\r\n+- `POST /api/cart/add`\r\n+\r\n+**Step 3:** View cart\r\n+- `GET /api/cart/user123`\r\n+\r\n+**Step 4:** Create order\r\n+- `POST /api/orders`\r\n+- Copy orderId\r\n+\r\n+**Step 5:** Create payment\r\n+- `POST /api/payments/create`\r\n+- Wait 3 seconds\r\n+\r\n+**Step 6:** Get order status updated\r\n+- `GET /api/orders/{orderId}`\r\n+- Status should be PAID\r\n+\r\n+## ‚úÖ Sample Data\r\n+\r\n+**Products:**\r\n+\r\n+```json\r\n+[\r\n+  { \"name\": \"Laptop\", \"description\": \"Gaming Laptop\", \"price\": 50000.0, \"stock\": 10 },\r\n+  { \"name\": \"Mouse\", \"description\": \"Wireless Mouse\", \"price\": 1000.0, \"stock\": 50 },\r\n+  { \"name\": \"Keyboard\", \"description\": \"Mechanical Keyboard\", \"price\": 3000.0, \"stock\": 30 }\r\n+]\r\n+```\r\n+\r\n+\r\n"
                }
            ],
            "date": 1768819496175,
            "name": "Commit-0",
            "content": "# üõí Minimal E-Commerce Backend API (Spring Boot + MongoDB) ‚Äî Assignment Submission\r\n\r\nThis project is a minimal e-commerce backend built using **Spring Boot** and **MongoDB**, covering the full flow:\r\n\r\n‚úÖ Products can be created and listed  \r\n‚úÖ Users can add items to cart / view cart / clear cart  \r\n‚úÖ Orders can be created from cart  \r\n‚úÖ Payments can be initiated (Mock payment service)  \r\n‚úÖ Payment webhook updates payment + order status  \r\n‚úÖ Bonus APIs: Order history, Order cancellation, Product search  \r\n‚úÖ Tested using Postman (collection can be exported for submission)\r\n\r\n---\r\n\r\n## üìå Tech Stack\r\n- Java **21**\r\n- Spring Boot **3.3.x**\r\n- Spring Web\r\n- Spring Data MongoDB\r\n- Bean Validation\r\n- Lombok\r\n- MongoDB (Local OR Atlas)\r\n\r\n---\r\n\r\n## üìÅ Project Structure\r\n\r\n"
        }
    ]
}